extends layout

block styles
    link(rel='stylesheet' href='/stylesheets/css/profile.css')

block title
    title #{__('profile.title')}

block content
    include navbar
    .container
        .row#viewForm
            .col.s12.m10.l8.xl6.offset-m1.offset-l2.offset-xl3
                .card
                    .card-content.padding-0
                        img.full-width(src=`/profilePicture/${user.picture}`)
                    .back.hide-on-med-and-up.small-back
                    .back.hide-on-small-only.hide-on-large-only.med-back
                    .back.hide-on-med-and-down.large-back
                    .some
                        h3 #{user.fname} #{user.lname}
                        h5 #{user.username}
                        h5 #{__(`userInformation.types.${user.type}`)}
                        br
                        br
                        a.waves-effect.waves-light.btn.theme-button.theme-text(onclick='enableEdit()')
                            i.material-icons.left edit
                            | #{__('actions.edit')}
        .row.hidden#editMode
            .col.s12.m4.l3
                .card
                    .card-content.padding-0
                        img.full-width(src=`/profilePicture/${user.picture}`)
                .card
                    .card-action
                        .row
                            .input-field.s12
                                select#theme(name='theme')
                                    each theme in themes
                                        option(value=theme selected=theme===user.theme) #{theme}
                                label #{__('userInformation.theme')}
                        .row
                            .switch
                                label(for='lname')
                                    | #{__('userInformation.notifications')}
                                br
                                label
                                    | #{__('switch.off')}
                                    input(id='notificationSwitch', type='checkbox', name='notificationEnabled' checked=user.notificationEnabled)
                                    span.lever
                                    | #{__('switch.on')}

            .col.s12.m8.l9
                .card.form-card
                    form#editForm
                        .row
                            .input-field.col.s6
                                input#fname(type='text', name='fname', value=user.fname)
                                label(for='fname')
                                    | #{__('userInformation.firstName')}
                            .input-field.col.s6
                                input#lname(type='text', name='lname', value=user.lname)
                                label(for='lname')
                                    | #{__('userInformation.firstName')}
                        .row
                            .input-field.col.s12
                                input#passwd.validate(type='password', name='newPassword')
                                label(for='passwd')
                                    | #{__('userInformation.newPassword')}
                        .row
                            .input-field.col.s12
                                input#confirmpasswd.validate(type='password', name='confirmPassword')
                                label(for='confirmpasswd')
                                    | #{__('userInformation.confirmPassword')}
                        .row
                            .input-field.col.s12
                                input#email.validate(type='email', name='email', value=user.email)
                                label(for='email')
                                    | #{__('userInformation.email')}
                        .row
                            .file-field.input-field
                                .btn.theme-button.theme-text
                                    span 
                                        | #{__('userInformation.picture')}
                                        i.material-icons.right insert_photo
                                    input(type='file', accept='.jpg, .jpeg, .png')#profile-picture-input
                                .file-path-wrapper
                                    input.file-path.validate(type='text', placeholder=__('profile.selectPicture'))
                        .row
                            hr
                        .row
                            .input-field.col.s12
                                input#currentpasswd.validate(type='password', name='currentPassword' required)
                                label(for='currentpasswd')
                                    | #{__('userInformation.currentPassword')}
                        .row.center
                            button.waves-effect.waves-light.btn.theme-button.theme-text(type='submit')
                                | #{__('actions.edit')}
                                i.material-icons.right send
                            span.padding-right-10
                            .hide-on-med-and-up
                                br
                            button.waves-effect.waves-light.btn.red(onClick='disableEdit()')
                                | #{__('actions.cancel')}
                                i.material-icons.right clear

block scripts
  script(src='/js/profile.js')
